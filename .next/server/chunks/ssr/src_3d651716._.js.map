{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ChatAssistant.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\n\ninterface Message {\n  id: string;\n  sender: \"user\" | \"ai\";\n  text: string;\n  timestamp: Date;\n}\n\ninterface ChatAssistantProps {\n  className?: string;\n}\n\nexport default function ChatAssistant({ className = \"\" }: ChatAssistantProps) {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: \"welcome\",\n      sender: \"ai\",\n      text: \"Hello! I'm your AI travel assistant. I can help you with travel recommendations, destination information, booking advice, and answer any travel-related questions. How can I assist you today?\",\n      timestamp: new Date()\n    }\n  ]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim() || loading) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      sender: \"user\",\n      text: input.trim(),\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput(\"\");\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const response = await fetch(\"/api/ai-assistant\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: userMessage.text })\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to get AI response\");\n      }\n\n      const data = await response.json();\n      \n      const aiMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        sender: \"ai\",\n        text: data.response || \"I apologize, but I couldn't generate a response. Please try again.\",\n        timestamp: new Date()\n      };\n\n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error: any) {\n      setError(\"Sorry, I'm having trouble responding right now. Please try again.\");\n      console.error(\"Chat error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const suggestedQuestions = [\n    \"What are the best destinations for a family vacation?\",\n    \"I need help planning a budget trip to Europe\",\n    \"What should I pack for a tropical vacation?\",\n    \"Can you recommend adventure activities in New Zealand?\",\n    \"What's the best time to visit Japan?\",\n    \"Help me find romantic getaway destinations\"\n  ];\n\n  const handleSuggestedQuestion = (question: string) => {\n    setInput(question);\n  };\n\n  return (\n    <div className={`flex flex-col h-full bg-white rounded-lg shadow-sm border ${className}`}>\n      {/* Chat Header */}\n      <div className=\"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg\">\n        <div className=\"flex items-center\">\n          <div className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3\">\n            <span className=\"text-lg\">ü§ñ</span>\n          </div>\n          <div>\n            <h3 className=\"font-semibold\">AI Travel Assistant</h3>\n            <p className=\"text-xs text-blue-100\">Always here to help with your travel needs</p>\n          </div>\n        </div>\n        <div className=\"flex items-center\">\n          <div className=\"w-2 h-2 bg-green-400 rounded-full mr-2\"></div>\n          <span className=\"text-xs\">Online</span>\n        </div>\n      </div>\n\n      {/* Messages Container */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 min-h-0\">\n        {messages.map((message) => (\n          <div\n            key={message.id}\n            className={`flex ${message.sender === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n          >\n            <div\n              className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                message.sender === \"user\"\n                  ? \"bg-blue-600 text-white\"\n                  : \"bg-gray-100 text-gray-900\"\n              }`}\n            >\n              <p className=\"text-sm whitespace-pre-wrap\">{message.text}</p>\n              <p\n                className={`text-xs mt-1 ${\n                  message.sender === \"user\" ? \"text-blue-100\" : \"text-gray-500\"\n                }`}\n              >\n                {formatTime(message.timestamp)}\n              </p>\n            </div>\n          </div>\n        ))}\n        \n        {loading && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg\">\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {error && (\n          <div className=\"flex justify-center\">\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm\">\n              {error}\n            </div>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Suggested Questions */}\n      {messages.length === 1 && (\n        <div className=\"px-4 py-2 border-t bg-gray-50\">\n          <p className=\"text-xs text-gray-600 mb-2\">Try asking:</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {suggestedQuestions.slice(0, 3).map((question, index) => (\n              <button\n                key={index}\n                onClick={() => handleSuggestedQuestion(question)}\n                className=\"text-xs bg-white border border-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-50 transition-colors\"\n              >\n                {question}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Input Area */}\n      <div className=\"p-4 border-t\">\n        <div className=\"flex space-x-2\">\n          <textarea\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask me anything about travel...\"\n            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n            rows={1}\n            disabled={loading}\n          />\n          <button\n            onClick={handleSend}\n            disabled={!input.trim() || loading}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {loading ? (\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n            ) : (\n              \"Send\"\n            )}\n          </button>\n        </div>\n        <p className=\"text-xs text-gray-500 mt-2\">\n          Press Enter to send, Shift+Enter for new line\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport ChatAssistant from \"@/components/ChatAssistant\";\n\nexport default function ChatPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navigation */}\n      <nav className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex items-center\">\n              <Link href=\"/\" className=\"text-2xl font-bold text-blue-600\">\n                TravelMarket\n              </Link>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <Link href=\"/marketplace\" className=\"text-gray-700 hover:text-blue-600\">\n                Browse Services\n              </Link>\n              <Link href=\"/vendor/register\" className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\">\n                Become a Vendor\n              </Link>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl font-bold mb-4\">AI Travel Assistant</h1>\n            <p className=\"text-xl text-blue-100 max-w-2xl mx-auto\">\n              Get personalized travel recommendations, instant answers to your questions, and expert advice for your next adventure.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Sidebar with Tips */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6 sticky top-8\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">How I Can Help</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-start\">\n                  <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0\">\n                    <span className=\"text-sm\">üó∫Ô∏è</span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900 text-sm\">Destination Advice</h4>\n                    <p className=\"text-xs text-gray-600\">Get recommendations for places to visit based on your preferences</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-start\">\n                  <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0\">\n                    <span className=\"text-sm\">üí∞</span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900 text-sm\">Budget Planning</h4>\n                    <p className=\"text-xs text-gray-600\">Help you plan trips within your budget constraints</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-start\">\n                  <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0\">\n                    <span className=\"text-sm\">üìÖ</span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900 text-sm\">Itinerary Planning</h4>\n                    <p className=\"text-xs text-gray-600\">Create detailed day-by-day travel itineraries</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-6 pt-6 border-t\">\n                <h4 className=\"font-medium text-gray-900 text-sm mb-2\">Quick Actions</h4>\n                <div className=\"space-y-2\">\n                  <Link\n                    href=\"/marketplace\"\n                    className=\"block w-full text-center bg-blue-600 text-white py-2 px-3 rounded text-sm hover:bg-blue-700 transition-colors\"\n                  >\n                    Browse Services\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Chat Interface */}\n          <div className=\"lg:col-span-3\">\n            <ChatAssistant className=\"h-[600px]\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAmC;;;;;;;;;;;0CAK9D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAe,WAAU;kDAAoC;;;;;;kDAGxE,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAmB,WAAU;kDAA+D;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS/G,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA0B;;;;;;0CACxC,8OAAC;gCAAE,WAAU;0CAA0C;;;;;;;;;;;;;;;;;;;;;;0BAQ7D,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAA2C;;;;;;kDACzD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;sEAAU;;;;;;;;;;;kEAE5B,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAAoC;;;;;;0EAClD,8OAAC;gEAAE,WAAU;0EAAwB;;;;;;;;;;;;;;;;;;0DAIzC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;sEAAU;;;;;;;;;;;kEAE5B,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAAoC;;;;;;0EAClD,8OAAC;gEAAE,WAAU;0EAAwB;;;;;;;;;;;;;;;;;;0DAIzC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;sEAAU;;;;;;;;;;;kEAE5B,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAAoC;;;;;;0EAClD,8OAAC;gEAAE,WAAU;0EAAwB;;;;;;;;;;;;;;;;;;;;;;;;kDAK3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAU;0DAAyC;;;;;;0DACvD,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;oDACH,MAAK;oDACL,WAAU;8DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAST,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,mIAAA,CAAA,UAAa;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrC","debugId":null}}]
}